(this["webpackJsonpmovie-manager"]=this["webpackJsonpmovie-manager"]||[]).push([[0],{10:function(e,a,t){e.exports={navbar:"app_navbar__3TrHG",main:"app_main__39i7O",backImg:"app_backImg__3GD5G"}},12:function(e,a,t){e.exports={movieCard:"movie-card_movieCard__2gDLa",spacer:"movie-card_spacer___ziAg",fetching:"movie-card_fetching__1OD0E",spinner:"movie-card_spinner__2Zu2t"}},21:function(e,a,t){e.exports={logo:"logo_logo__hjJjR"}},22:function(e,a,t){e.exports=t(33)},3:function(e,a,t){e.exports={suggestion:"suggestion_suggestion__3g9y9",title:"suggestion_title__1IRUf",cardContainer:"suggestion_cardContainer__qhy20",icon:"suggestion_icon__3mc9W",unseen:"suggestion_unseen__3se1c",seen:"suggestion_seen__3HVto",star:"suggestion_star__g6A2N"}},33:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(18),o=t.n(c),i=t(5),s=t(11),u=t(20),l=t(1),m="search/SEARCH";function v(e){return{type:"movie/ADD_TO_FAVORITES_SUCCESS",payload:e}}function _(e){return{type:"movie/ADD_TO_WATCH_SUCCESS",payload:e}}var g={search:{isSearching:!1,fetched:[]},movieSelected:void 0,isFetching:!1,userMovies:[],userMoviesFav:[]};var d=t(2),h=t.n(d),p=t(6);var f=function(e){return e.search.fetched},E=function(e){return e.search.isSearching};var y=function(e){return e.userMovies},S=function(e){return e.userMoviesFav},C=t(16),b=t(12),O=t.n(b),T=function(e){var a={backgroundImage:"url(".concat(e.movie.url,")")};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:a,className:"".concat(O.a.movieCard," ").concat(e.movie.isFetchinCover?O.a.fetching:"")},n.a.createElement("img",{className:O.a.spacer,src:"./img/movie-spacer.png",alt:e.movie.title})))},F=t(3),M=t.n(F),A=function(e){var a=Object(l.a)({},e.movie);a.url=a.url?"http://image.tmdb.org/t/p/".concat(e.requiredWitdh).concat(a.url):"./img/not_available.jpeg";var t=n.a.createElement("div",{className:M.a.cardContainer},n.a.createElement(T,{movie:a})),r=a.year?"(".concat(a.year,")"):"",c=e.actions,o=c.addToLibrary,i=c.addToLibraryFav;return console.log(o),n.a.createElement("article",{className:M.a.suggestion},t,n.a.createElement("p",{className:M.a.title},a.title," ",n.a.createElement("span",null,r)),n.a.createElement("div",{className:"".concat(M.a.icon," ").concat(M.a.unseen)}," ",n.a.createElement("img",{className:M.a.star,onClick:function(){return i(Object(l.a)({},a,{watched:!!e.seen}))},src:"./img/star.png",alt:"star favorites"})," "),n.a.createElement("div",{className:"".concat(M.a.icon," ").concat(M.a.seen)}," ",n.a.createElement("img",{className:M.a.star,onClick:function(){return o(Object(l.a)({},a,{watched:!!e.seen}))},src:"./svg/eye.svg",alt:"eye icon"})," "))};A.defaultProps={requiredWitdh:"w92"};var N=A,j=t(9),R=t.n(j);var w=function(e){var a=Object(r.useState)(""),t=Object(C.a)(a,2),c=t[0],o=t[1],i=function(e,a){var t=Object(r.useState)(e),n=Object(C.a)(t,2),c=n[0],o=n[1];return Object(r.useEffect)((function(){var t=setTimeout((function(){o(e)}),a);return function(){clearTimeout(t)}}),[e]),c}(c,1e3);Object(r.useEffect)((function(){i&&e.actions.searchMovies(c)}),[i]);var s={addToLibrary:e.actions.addToLibrary,addToLibraryFav:e.actions.addToFavorites},u=e.status.fetched.map((function(e){return n.a.createElement(N,{key:e.id,movie:e,actions:s})})),l=0===u.length?"":n.a.createElement("div",{className:R.a.suggestionContainer}," ",u," "),m=u.length>0?n.a.createElement("span",{className:R.a.clearSearch,onClick:function(){o(""),e.actions.clearSearch()}},"X"):"";return n.a.createElement("section",{className:R.a.section},n.a.createElement("form",{className:R.a.form},m,n.a.createElement("input",{className:R.a.formInput,placeholder:"Search movie...",onChange:function(e){return o(e.target.value)},name:"title",value:c,autoComplete:"off"}),e.status.isSearching&&n.a.createElement("div",null,"Searching ...")),l)},I=t(21),L=t.n(I),H=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("img",{className:L.a.logo,alt:"Website Logo",src:"".concat("/mimoma","/svg/logo.svg")}))},k=t(4),D=t.n(k),x=function(e){var a=e.status.name,t="Favorites"===a,r=n.a.createElement("header",{className:"".concat(D.a.header," ").concat(t?D.a.seenHeader:"")},n.a.createElement("span",{className:"".concat(D.a.headerSpan," ").concat(t?D.a.seenSpan:"")}),n.a.createElement("span",null,a)),c=e.status.list.map((function(e){return n.a.createElement("div",{className:"".concat(D.a.movieContainer),key:e.id||e.movie_id},n.a.createElement(T,{movie:e}))})),o=n.a.createElement("article",{className:D.a.moviesContainer},c);return n.a.createElement("section",{className:D.a.section},r,o)},U=t(10),V=t.n(U),W=function(e){var a,t,r={addToLibrary:e.addToLibrary,addToFavorites:e.addToFavorites,searchMovies:e.searchMovies,clearSearch:e.searchClear},c=n.a.createElement("nav",{className:V.a.navbar}," ",n.a.createElement(H,null)," "),o=n.a.createElement(w,{status:e.search,actions:r}),i=n.a.createElement("span",{className:V.a.spacer});if(e.category.userMovies.length){var s={name:"Watch List"};s.list=e.category.userMovies,a=n.a.createElement(x,{status:s})}if(e.category.userMoviesFav.length){var u={name:"Favorites"};u.list=e.category.userMoviesFav,t=n.a.createElement(x,{status:u})}return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:V.a.backImg}),n.a.createElement("img",{src:"./img/movie-spacer.png",alt:""}),c,o,n.a.createElement("main",{className:V.a.main},a,t,i))},G={addToLibrary:function(e){return function(){var a=Object(p.a)(h.a.mark((function a(t){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",t(_(Object(l.a)({},e,{isFetchinCover:!1}))));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},addToFavorites:function(e){return function(){var a=Object(p.a)(h.a.mark((function a(t){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",t(v(Object(l.a)({},e,{isFetchinCover:!1}))));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},searchMovies:function(e){var a="https://api.themoviedb.org/3/search/movie?api_key=".concat("5b22a10bb7349a0914d536d28d20547a","&query=").concat(e,"&language=en"),t={method:"GET"};return function(){var e=Object(p.a)(h.a.mark((function e(r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:m}),e.abrupt("return",fetch(a,t).then((function(e){return e.json()})).then((function(e){return e.results})).then((function(e){var a=e.filter((function(e){return"en"===e.original_language})).map((function(e){return{id:e.id,title:e.original_title,year:e.release_date.substring(0,4),url:e.poster_path}}));r({type:"search/SEARCH_SUCCESS",payload:a})})).catch((function(e){r({type:"search/SEARCH_FAILURE",payload:e})})));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},searchClear:function(){return{type:"search/CLEAR"}}},q=Object(s.b)((function(e){var a=e.movieLibrary;return{search:{fetched:f(a),isSearching:E(a)},category:{userMovies:y(a),userMoviesFav:S(a)}}}),G)(W),P=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,X=Object(i.c)({movieLibrary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log("Action: ",a.type),a.payload&&console.log("Payload: ",a.payload);var t=Object(l.a)({},e);switch(a.type){case"movie/MOVIE_FETCH_COVERS_START":return t.userMovies=t.userMovies.map((function(e){return Object(l.a)({},e,{isFetchinCover:!0})})),t;case"movie/MOVIE_FETCH_COVERS_SUCCESS":return t.userMovies=t.userMovies.map((function(e){return Object(l.a)({movieId:e.id},e,{},a.payload.find((function(a){return e.movie_id===a.id})))})),t;case"movie/MOVIE_FETCH_COVERS_FAILURE":return t.userMovies=t.userMovies.map((function(e){return e.isFetchinCover=!1,e.url=e.url||"./img/not_available.jpeg",e})),t;case"movie/ADD_TO_WATCH_SUCCESS":var r=!1;return t.userMovies.forEach((function(e){a.payload.id===e.id&&(r=!0)})),r||t.userMovies.push(a.payload),console.log(t.userMovies),t;case"movie/ADD_TO_FAVORITES_SUCCESS":var n=!1;return t.userMoviesFav.forEach((function(e){a.payload.id===e.id&&(n=!0)})),n||t.userMoviesFav.push(a.payload),t;case m:return t.search.isSearching=!0,t;case"search/SEARCH_SUCCESS":return t.search.isSearching=!1,t.search.fetched=a.payload,t;case"search/CLEAR":case"search/SEARCH_FAILURE":return t.search.isSearching=!1,t.search.fetched=[],t;default:return e}}}),z=Object(i.e)(X,P(Object(i.a)(u.a)));o.a.render(n.a.createElement(s.a,{store:z},n.a.createElement(q,null)),document.getElementById("root"))},4:function(e,a,t){e.exports={section:"category_section__1ObYf",header:"category_header__2E1K2",headerSpan:"category_headerSpan__2wDl3",seenHeader:"category_seenHeader__2xClj",seenSpan:"category_seenSpan__3B8R5",movieContainer:"category_movieContainer__3BRP1",movieSelected:"category_movieSelected__2Sxlg",moviesContainer:"category_moviesContainer__28tmA",leftArrow:"category_leftArrow__v88HS",rightArrow:"category_rightArrow__1TfX2",about:"category_about__1SgeR"}},9:function(e,a,t){e.exports={section:"search_section__2Wbtz",form:"search_form__3vV5A",formInput:"search_formInput__1Tzeo",suggestionContainer:"search_suggestionContainer__1DNo4",clearSearch:"search_clearSearch__oOGsd"}}},[[22,1,2]]]);
//# sourceMappingURL=main.3ed35c1f.chunk.js.map